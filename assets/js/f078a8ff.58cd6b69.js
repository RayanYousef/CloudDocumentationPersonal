"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[911],{2067(e,i,n){n.d(i,{A:()=>s});const s=n.p+"assets/images/IOS_Identification-a66676f807eb13e57cd5460df5171bfa.png"},3324(e,i,n){n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"platforms/IOS","title":"iOS Build Guide","description":"This guide provides comprehensive instructions for setting up a robust cloud build pipeline for your Unity projects using GitHub Actions to build for iOS and deploy to TestFlight.","source":"@site/docs/platforms/IOS.md","sourceDirName":"platforms","slug":"/platforms/IOS","permalink":"/CloudDocumentationPersonal/platforms/IOS","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Android Build Guide","permalink":"/CloudDocumentationPersonal/platforms/Android"},"next":{"title":"IOS_APNS_CODE_SIGNING","permalink":"/CloudDocumentationPersonal/platforms/IOS_APNS_CODE_SIGNING"}}');var r=n(4848),t=n(8453);const o={},l="iOS Build Guide",d={},c=[{value:"\ud83d\udccb Table of Contents",id:"-table-of-contents",level:2},{value:"\ud83d\udd27 <strong>Setup &amp; Configuration</strong>",id:"-setup--configuration",level:3},{value:"\ud83d\udee0\ufe0f <strong>Unity &amp; Platform Setup</strong>",id:"\ufe0f-unity--platform-setup",level:3},{value:"\u26a0\ufe0f <strong>Important Notes &amp; Support</strong>",id:"\ufe0f-important-notes--support",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Required GitHub Secrets",id:"required-github-secrets",level:3},{value:"1. Unity License Activation",id:"1-unity-license-activation",level:3},{value:"2. Apple Developer Program Setup",id:"2-apple-developer-program-setup",level:3},{value:"Apple Developer Prerequisites",id:"apple-developer-prerequisites",level:4},{value:"Create Required Certificates and Provisioning Profiles",id:"create-required-certificates-and-provisioning-profiles",level:4},{value:"2.1\u20132.3. Certificates and Profiles",id:"2123-certificates-and-profiles",level:5},{value:"2.4. Export Options Plist",id:"24-export-options-plist",level:5},{value:"3. iOS Code Signing Configuration",id:"3-ios-code-signing-configuration",level:3},{value:"Required: Basic Code Signing Setup",id:"required-basic-code-signing-setup",level:4},{value:"Optional: Advanced Code Signing Processor",id:"optional-advanced-code-signing-processor",level:4},{value:"4. App Store Connect Setup",id:"4-app-store-connect-setup",level:3},{value:"Generate API Key for CI/CD",id:"generate-api-key-for-cicd",level:4},{value:"App Store Connect App Setup",id:"app-store-connect-app-setup",level:4},{value:"Step 2: Unity Project Configuration",id:"step-2-unity-project-configuration",level:2},{value:"1.1. Bundle Identifier",id:"11-bundle-identifier",level:3},{value:"1.2. iOS Specific Settings",id:"12-ios-specific-settings",level:3},{value:"Step 3: iOS-Specific Setup",id:"step-3-ios-specific-setup",level:2},{value:"Step 4: Xcode Configuration &amp; Workflow (OPTIONAL: Only if you need iOS 18.2 features)",id:"step-4-xcode-configuration--workflow-optional-only-if-you-need-ios-182-features",level:2},{value:"Step 5: Advanced Workflows (AdMob / CocoaPods)",id:"step-5-advanced-workflows-admob--cocoapods",level:2},{value:"Important Notes",id:"important-notes",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues:",id:"common-issues",level:3},{value:"File Structure Requirements:",id:"file-structure-requirements",level:3}];function a(e){const i={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"ios-build-guide",children:"iOS Build Guide"})}),"\n",(0,r.jsx)(i.p,{children:"This guide provides comprehensive instructions for setting up a robust cloud build pipeline for your Unity projects using GitHub Actions to build for iOS and deploy to TestFlight."}),"\n",(0,r.jsx)(i.h2,{id:"-table-of-contents",children:"\ud83d\udccb Table of Contents"}),"\n",(0,r.jsxs)(i.h3,{id:"-setup--configuration",children:["\ud83d\udd27 ",(0,r.jsx)(i.strong,{children:"Setup & Configuration"})]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"#prerequisites",children:(0,r.jsx)(i.strong,{children:"Prerequisites"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\ud83d\udd10 ",(0,r.jsx)(i.a,{href:"#required-github-secrets",children:"Required GitHub Secrets"})]}),"\n",(0,r.jsxs)(i.li,{children:["\ud83c\udfae ",(0,r.jsx)(i.a,{href:"#1-unity-license-activation",children:"Unity License Activation"})]}),"\n",(0,r.jsxs)(i.li,{children:["\ud83c\udf4e ",(0,r.jsx)(i.a,{href:"#2-apple-developer-program-setup",children:"Apple Developer Program Setup"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\ud83d\udccb ",(0,r.jsx)(i.a,{href:"#apple-developer-prerequisites",children:"Apple Developer Prerequisites"})]}),"\n",(0,r.jsxs)(i.li,{children:["\ud83d\udd11 ",(0,r.jsx)(i.a,{href:"#create-required-certificates-and-provisioning-profiles",children:"Create Required Certificates and Provisioning Profiles"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"\ud83d\udcdc [Apple Distribution Certificate]"}),"\n",(0,r.jsx)(i.li,{children:"\ud83d\udd14 [APNS Certificate (for Push Notifications)]"}),"\n",(0,r.jsx)(i.li,{children:"\ud83d\udcf1 [Provisioning Profile]"}),"\n",(0,r.jsxs)(i.li,{children:["\ud83d\udcc4 ",(0,r.jsx)(i.a,{href:"#24-export-options-plist",children:"Export Options Plist"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\u2699\ufe0f ",(0,r.jsx)(i.a,{href:"#3-ios-code-signing-configuration",children:"iOS Code Signing Configuration"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\ud83d\udd27 ",(0,r.jsx)(i.a,{href:"#required-basic-code-signing-setup",children:"Required: Basic Code Signing Setup"})]}),"\n",(0,r.jsxs)(i.li,{children:["\ud83d\udd27 ",(0,r.jsx)(i.a,{href:"#optional-advanced-code-signing-processor",children:"Optional: Advanced Code Signing Processor"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\ud83c\udfea ",(0,r.jsx)(i.a,{href:"#4-app-store-connect-setup",children:"App Store Connect Setup"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\ud83d\udd11 ",(0,r.jsx)(i.a,{href:"#generate-api-key-for-cicd",children:"Generate API Key for CI/CD"})]}),"\n",(0,r.jsxs)(i.li,{children:["\ud83d\udcf1 ",(0,r.jsx)(i.a,{href:"#app-store-connect-app-setup",children:"App Store Connect App Setup"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.h3,{id:"\ufe0f-unity--platform-setup",children:["\ud83d\udee0\ufe0f ",(0,r.jsx)(i.strong,{children:"Unity & Platform Setup"})]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"#step-2-unity-project-configuration",children:(0,r.jsx)(i.strong,{children:"Step 2: Unity Project Configuration"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\ud83d\udce6 ",(0,r.jsx)(i.a,{href:"#11-bundle-identifier",children:"Bundle Identifier"})]}),"\n",(0,r.jsxs)(i.li,{children:["\u2699\ufe0f ",(0,r.jsx)(i.a,{href:"#12-ios-specific-settings",children:"iOS Specific Settings"})]}),"\n",(0,r.jsxs)(i.li,{children:["\ud83d\udd10 ",(0,r.jsx)(i.a,{href:"#3-ios-code-signing-configuration",children:"iOS Code Signing Configuration"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#step-3-ios-specific-setup",children:(0,r.jsx)(i.strong,{children:"Step 3: iOS-Specific Setup"})})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#step-4-xcode-configuration--workflow-optional-only-if-you-need-ios-182-features",children:(0,r.jsx)(i.strong,{children:"Step 4: Xcode Configuration & Workflow (OPTIONAL)"})})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#step-5-advanced-workflows-admob--cocoapods",children:(0,r.jsx)(i.strong,{children:"Step 5: Advanced Workflows (AdMob / CocoaPods)"})})}),"\n"]}),"\n",(0,r.jsxs)(i.h3,{id:"\ufe0f-important-notes--support",children:["\u26a0\ufe0f ",(0,r.jsx)(i.strong,{children:"Important Notes & Support"})]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#important-notes",children:(0,r.jsx)(i.strong,{children:"Important Notes"})})}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"#troubleshooting",children:(0,r.jsx)(i.strong,{children:"Troubleshooting"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\ud83d\udea8 ",(0,r.jsx)(i.a,{href:"#common-issues",children:"Common Issues"})]}),"\n",(0,r.jsxs)(i.li,{children:["\ud83d\udcc1 ",(0,r.jsx)(i.a,{href:"#file-structure-requirements",children:"File Structure Requirements"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(i.h3,{id:"required-github-secrets",children:"Required GitHub Secrets"}),"\n",(0,r.jsxs)(i.p,{children:["Before proceeding, you must configure the following secrets in your GitHub repository. Go to ",(0,r.jsx)(i.strong,{children:"Settings > Secrets and variables > Actions"})," to add them:"]}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Secret Name"}),(0,r.jsx)(i.th,{children:"Description"}),(0,r.jsx)(i.th,{children:"Required For"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"UNITY_LICENSE"})}),(0,r.jsx)(i.td,{children:"Complete .ulf license file content"}),(0,r.jsxs)(i.td,{children:["Unity activation (",(0,r.jsx)(i.a,{href:"https://github.com/game-ci/unity-builder",children:"game-ci/unity-builder"}),")"]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"UNITY_EMAIL"})}),(0,r.jsx)(i.td,{children:"Email address associated with your Unity account"}),(0,r.jsxs)(i.td,{children:["Unity activation (",(0,r.jsx)(i.a,{href:"https://github.com/game-ci/unity-builder",children:"game-ci/unity-builder"}),")"]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"UNITY_PASSWORD"})}),(0,r.jsx)(i.td,{children:"Password for your Unity account"}),(0,r.jsxs)(i.td,{children:["Unity activation (",(0,r.jsx)(i.a,{href:"https://github.com/game-ci/unity-builder",children:"game-ci/unity-builder"}),")"]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"APNS_P12_PASSWORD"})}),(0,r.jsx)(i.td,{children:"See SignCode guide"}),(0,r.jsxs)(i.td,{children:["See ",(0,r.jsx)(i.a,{href:"/CloudDocumentationPersonal/platforms/IOS_APNS_CODE_SIGNING",children:"SignCode"})]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"APPLE_DISTRIBUTION_P12_PASSWORD"})}),(0,r.jsx)(i.td,{children:"See SignCode guide"}),(0,r.jsxs)(i.td,{children:["See ",(0,r.jsx)(i.a,{href:"/CloudDocumentationPersonal/platforms/IOS_APNS_CODE_SIGNING",children:"SignCode"})]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"APPSTORE_ISSUER_ID"})}),(0,r.jsx)(i.td,{children:"App Store Connect API issuer ID"}),(0,r.jsxs)(i.td,{children:["TestFlight upload (",(0,r.jsx)(i.a,{href:"https://github.com/apple-actions/upload-testflight-build",children:"apple-actions/upload-testflight-build"}),")"]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"APPSTORE_KEY_ID"})}),(0,r.jsx)(i.td,{children:"App Store Connect API key ID"}),(0,r.jsxs)(i.td,{children:["TestFlight upload (",(0,r.jsx)(i.a,{href:"https://github.com/apple-actions/upload-testflight-build",children:"apple-actions/upload-testflight-build"}),")"]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"APPSTORE_P8"})}),(0,r.jsx)(i.td,{children:"App Store Connect private key (.p8 file content)"}),(0,r.jsxs)(i.td,{children:["TestFlight upload (",(0,r.jsx)(i.a,{href:"https://github.com/apple-actions/upload-testflight-build",children:"apple-actions/upload-testflight-build"}),")"]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"DISCORD_WEBHOOK_SKREW"})}),(0,r.jsx)(i.td,{children:"Discord webhook URL for build notifications"}),(0,r.jsxs)(i.td,{children:["Build notifications (",(0,r.jsx)(i.a,{href:"https://github.com/nobrayner/discord-webhook",children:"nobrayner/discord-webhook"}),")"]})]})]})]}),"\n",(0,r.jsx)(i.h3,{id:"1-unity-license-activation",children:"1. Unity License Activation"}),"\n",(0,r.jsx)(i.p,{children:"Follow these steps to set up your Unity license for CI/CD builds:"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Install Unity Hub"}),": Download and install Unity Hub on your local machine"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Log in to Unity Hub"}),": Use your Unity account credentials"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Activate License"}),": Navigate to ",(0,r.jsx)(i.code,{children:"Unity Hub > Preferences > Licenses"})," and click ",(0,r.jsx)(i.code,{children:"Add"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Get License File"}),": Locate your ",(0,r.jsx)(i.code,{children:".ulf"})," file at:","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Windows"}),": ",(0,r.jsx)(i.code,{children:"C:\\ProgramData\\Unity\\Unity_lic.ulf"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Mac"}),": ",(0,r.jsx)(i.code,{children:"/Library/Application Support/Unity/Unity_lic.ulf"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Linux"}),": ",(0,r.jsx)(i.code,{children:"~/.local/share/unity3d/Unity/Unity_lic.ulf"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsxs)(i.strong,{children:["\ud83d\udcd6 ",(0,r.jsx)(i.a,{href:"https://game.ci/docs/github/activation/#personal-license",children:"Detailed Unity License Setup Guide"})]})}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Note"}),": These credentials are used by ",(0,r.jsx)(i.a,{href:"https://github.com/game-ci/unity-builder",children:"game-ci/unity-builder"})," action for Unity license activation during the build process."]}),"\n",(0,r.jsx)(i.h3,{id:"2-apple-developer-program-setup",children:"2. Apple Developer Program Setup"}),"\n",(0,r.jsx)(i.h4,{id:"apple-developer-prerequisites",children:"Apple Developer Prerequisites"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Apple Developer Program"}),": You must be enrolled in the Apple Developer Program ($99/year)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"App Store Connect"}),": Access to App Store Connect for your app"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"create-required-certificates-and-provisioning-profiles",children:"Create Required Certificates and Provisioning Profiles"}),"\n",(0,r.jsx)(i.h5,{id:"2123-certificates-and-profiles",children:"2.1\u20132.3. Certificates and Profiles"}),"\n",(0,r.jsxs)(i.p,{children:["Moved to the dedicated guide: see ",(0,r.jsx)(i.a,{href:"/CloudDocumentationPersonal/platforms/IOS_APNS_CODE_SIGNING",children:"SignCode"})," for creating the Apple Distribution certificate, APNS certificate, and provisioning profiles used for signing."]}),"\n",(0,r.jsx)(i.h5,{id:"24-export-options-plist",children:"2.4. Export Options Plist"}),"\n",(0,r.jsx)(i.p,{children:"Create an export options plist file for TestFlight deployment:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Save as"}),": ",(0,r.jsx)(i.code,{children:"CloudBuild/iOS/exportOptions.plist"})]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"Example content:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">\n<plist version="1.0">\n<dict>\n    <key>method</key>\n    <string>app-store</string>\n    <key>teamID</key>\n    <string>YOUR_TEAM_ID</string>\n    <key>uploadBitcode</key>\n    <false/>\n    <key>uploadSymbols</key>\n    <true/>\n</dict>\n</plist>\n'})}),"\n",(0,r.jsx)(i.h3,{id:"3-ios-code-signing-configuration",children:"3. iOS Code Signing Configuration"}),"\n",(0,r.jsx)(i.h4,{id:"required-basic-code-signing-setup",children:"Required: Basic Code Signing Setup"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"\u26a0\ufe0f Required"}),": You must configure these settings in Unity Player Settings > iOS > Other Settings:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Signing Team Id"}),"\n",(0,r.jsx)(i.li,{children:"Disable Automatically Sign (if you want to pin a specific profile)"}),"\n",(0,r.jsx)(i.li,{children:"Profile ID (Provisioning Profile UUID)"}),"\n",(0,r.jsx)(i.li,{children:"Profile Type (e.g., Distribution)"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.img,{alt:"Unity Player Settings - iOS Code Signing Configuration",src:n(2067).A+"",width:"902",height:"578"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.em,{children:"Configure the highlighted fields in Unity Player Settings for manual code signing"})}),"\n",(0,r.jsxs)(i.p,{children:["Then commit and push your Unity ",(0,r.jsx)(i.code,{children:"ProjectSettings"}),' so CI uses them. If you prefer Unity\'s automatic signing, keep "Automatically Sign" enabled and make sure your Apple account, certificates, and profiles are available to the Xcode environment.']}),"\n",(0,r.jsx)(i.h4,{id:"optional-advanced-code-signing-processor",children:"Optional: Advanced Code Signing Processor"}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.code,{children:"IOSCodeSigningProcessor.cs"})," is an optional Unity editor script that automates manual code signing for iOS builds. ",(0,r.jsx)(i.strong,{children:"If you want to use a Notification Service Extension, you must use this processor."})," If you prefer configuring signing in Xcode and do not use a notification service extension, you can skip it."]}),"\n",(0,r.jsxs)(i.p,{children:["\u27a1\ufe0f For setup steps, prerequisites, and troubleshooting, see: ",(0,r.jsx)(i.a,{href:"/CloudDocumentationPersonal/platforms/IOS_APNS_CODE_SIGNING",children:"iOS Code Signing Processor"})]}),"\n",(0,r.jsx)(i.h3,{id:"4-app-store-connect-setup",children:"4. App Store Connect Setup"}),"\n",(0,r.jsx)(i.h4,{id:"generate-api-key-for-cicd",children:"Generate API Key for CI/CD"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["Go to ",(0,r.jsx)(i.a,{href:"https://appstoreconnect.apple.com/access/api",children:"App Store Connect > Users and Access > Keys"})]}),"\n",(0,r.jsx)(i.li,{children:'Click "+" to generate a new API key'}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Note the Issuer ID"})," - you'll need this for ",(0,r.jsx)(i.code,{children:"APPSTORE_ISSUER_ID"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Note the Key ID"})," - you'll need this for ",(0,r.jsx)(i.code,{children:"APPSTORE_KEY_ID"})]}),"\n",(0,r.jsx)(i.li,{children:"Download the private key (.p8 file)"}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Copy the .p8 file content"})," - you'll need this for ",(0,r.jsx)(i.code,{children:"APPSTORE_P8"})]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"app-store-connect-app-setup",children:"App Store Connect App Setup"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:"Create your app in App Store Connect (if not already done)"}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Important"}),": The bundle ID in Unity must match your App Store Connect app exactly"]}),"\n",(0,r.jsx)(i.li,{children:"Enable TestFlight for your app"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"step-2-unity-project-configuration",children:"Step 2: Unity Project Configuration"}),"\n",(0,r.jsx)(i.h3,{id:"11-bundle-identifier",children:"1.1. Bundle Identifier"}),"\n",(0,r.jsxs)(i.p,{children:["\u26a0\ufe0f ",(0,r.jsx)(i.strong,{children:"Important"}),": The bundle identifier in Unity Player Settings must match your App Store Connect app exactly. Once set, it ",(0,r.jsx)(i.strong,{children:"cannot be changed"})," for App Store submissions."]}),"\n",(0,r.jsxs)(i.p,{children:["In Unity, go to ",(0,r.jsx)(i.strong,{children:"File > Build Settings > Player Settings"})," and set your ",(0,r.jsx)(i.strong,{children:"Bundle Identifier"})," (e.g., ",(0,r.jsx)(i.code,{children:"com.CompanyName.AppName"}),")."]}),"\n",(0,r.jsx)(i.h3,{id:"12-ios-specific-settings",children:"1.2. iOS Specific Settings"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["In ",(0,r.jsx)(i.strong,{children:"Player Settings > iOS"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Set ",(0,r.jsx)(i.strong,{children:"Target minimum iOS Version"})," (recommended: iOS 12.0 or higher)"]}),"\n",(0,r.jsxs)(i.li,{children:["Configure ",(0,r.jsx)(i.strong,{children:"Device Orientation"})," as needed"]}),"\n",(0,r.jsxs)(i.li,{children:["Set ",(0,r.jsx)(i.strong,{children:"Architecture"})," (recommended: ARM64)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Code Signing"}),": The workflow handles automatic code signing, but ensure:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Your provisioning profile matches the bundle identifier"}),"\n",(0,r.jsx)(i.li,{children:"Certificates are valid and not expired"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"step-3-ios-specific-setup",children:"Step 3: iOS-Specific Setup"}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"\ud83d\udccb Prerequisites"}),": Ensure you've completed the ",(0,r.jsx)(i.a,{href:"../prerequisites",children:"Prerequisites Setup"})," first, including ",(0,r.jsx)(i.code,{children:"VersioningSettings.json"}),", ",(0,r.jsx)(i.code,{children:"WhatsNew"})," directory (located in ",(0,r.jsx)(i.code,{children:"docs/CloudBuild/WhatsNew/"}),"), and ",(0,r.jsx)(i.code,{children:"CustomBuildProcessor.cs"})," script. If you opt into code signing automation, follow ",(0,r.jsx)(i.a,{href:"/CloudDocumentationPersonal/platforms/IOS_APNS_CODE_SIGNING",children:"SignCode"})," to add ",(0,r.jsx)(i.code,{children:"IOSCodeSigningProcessor.cs"}),"."]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"step-4-xcode-configuration--workflow-optional-only-if-you-need-ios-182-features",children:"Step 4: Xcode Configuration & Workflow (OPTIONAL: Only if you need iOS 18.2 features)"}),"\n",(0,r.jsxs)(i.p,{children:["The workflow uses ",(0,r.jsx)(i.strong,{children:"Xcode 16.2"})," specifically. If you need a different Xcode version, update the workflow file:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-yaml",children:'- name: Install iOS 18.2 Platform\n  run: |\n    echo "Installing iOS 18.2 platform..."\n    sudo xcode-select -switch /Applications/Xcode_16.2.app  # Change version here\n    xcodebuild -downloadPlatform iOS -buildVersion 18.2 || echo "Platform download failed or already exists"\n'})}),"\n",(0,r.jsx)(i.h2,{id:"step-5-advanced-workflows-admob--cocoapods",children:"Step 5: Advanced Workflows (AdMob / CocoaPods)"}),"\n",(0,r.jsxs)(i.p,{children:["If your project uses plugins like ",(0,r.jsx)(i.strong,{children:"AdMob"}),", ",(0,r.jsx)(i.strong,{children:"Firebase"}),", or ",(0,r.jsx)(i.strong,{children:"Facebook SDK"})," that rely on CocoaPods and the External Dependency Manager for Unity (EDM4U), you must use a modified workflow."]}),"\n",(0,r.jsxs)(i.p,{children:["These plugins require building an ",(0,r.jsx)(i.code,{children:".xcworkspace"})," (Workspace) instead of the standard ",(0,r.jsx)(i.code,{children:".xcodeproj"}),"."]}),"\n",(0,r.jsxs)(i.p,{children:["\u27a1\ufe0f ",(0,r.jsx)(i.strong,{children:(0,r.jsx)(i.a,{href:"/CloudDocumentationPersonal/platforms/IOS_CocoaPods_Workflow",children:"Read the CocoaPods & Workspace Workflow Guide"})})]}),"\n",(0,r.jsxs)(i.p,{children:["You can find the complete iOS TestFlight workflow ",(0,r.jsx)(i.a,{href:"../reference/workflows#ios-ipa-testflight",children:"here"}),"."]}),"\n",(0,r.jsx)(i.h2,{id:"important-notes",children:"Important Notes"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Bundle ID Permanence"}),": The bundle ID set in your first TestFlight upload cannot be changed"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Certificate Expiry"}),": Monitor your Apple certificates and provisioning profiles expiry dates"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Xcode Version"}),": The workflow uses Xcode 16.2 - ensure compatibility with your Unity version"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Provisioning Profiles"}),": The workflow copies profiles to multiple locations for compatibility"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Code Signing"}),": If you use the optional processor, it runs in Unity's PostProcessBuild pipeline. See ",(0,r.jsx)(i.a,{href:"/CloudDocumentationPersonal/platforms/IOS_APNS_CODE_SIGNING",children:"SignCode"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"License Security"}),": GameCI does not store your Unity credentials or license files - they're only used during build activation"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Build Branch"}),": By default, builds target the ",(0,r.jsx)(i.code,{children:"main"})," branch (configurable in ",(0,r.jsx)(i.code,{children:"VersioningSettings.json"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Build Controller"}),": Use this for multi-platform builds - set ",(0,r.jsx)(i.code,{children:"run_ios_ipa_testflight: true"})," to include iOS"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"GitHub Actions Used"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"https://github.com/game-ci/unity-builder",children:"game-ci/unity-builder"})," - Unity builds and license activation"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"https://github.com/apple-actions/upload-testflight-build",children:"apple-actions/upload-testflight-build"})," - TestFlight deployment"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"https://github.com/nobrayner/discord-webhook",children:"nobrayner/discord-webhook"})," - Build notifications"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(i.h3,{id:"common-issues",children:"Common Issues:"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Code Signing Errors"}),": Verify your certificates and provisioning profiles are valid"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Provisioning Profile Issues"}),": Ensure the profile matches your bundle ID exactly"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"TestFlight Upload Failures"}),": Check your App Store Connect API credentials"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Xcode Version Mismatch"}),": Ensure your Unity version is compatible with Xcode 16.2"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"file-structure-requirements",children:"File Structure Requirements:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"CloudBuild/\n\u2514\u2500\u2500 iOS/\n    \u251c\u2500\u2500 Certificates/\n    \u2502   \u2514\u2500\u2500 Apple_Distribution.p12\n    \u251c\u2500\u2500 ProvisioningProfiles/\n    \u2502   \u2514\u2500\u2500 *.mobileprovision\n    \u2514\u2500\u2500 exportOptions.plist\n\nAssets/\n\u2514\u2500\u2500 Editor/\n    \u2514\u2500\u2500 CustomBuildProcessor.cs\n"})})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,i,n){n.d(i,{R:()=>o,x:()=>l});var s=n(6540);const r={},t=s.createContext(r);function o(e){const i=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:i},e.children)}}}]);