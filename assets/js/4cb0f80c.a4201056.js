"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[935],{6364(e,i,n){n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"troubleshooting/Unity_IDE_Package_Removal_Solution","title":"Unity CI Build Issue: IDE Package Certificate CRL Error - Solution Guide","description":"Problem Description","source":"@site/docs/troubleshooting/Unity_IDE_Package_Removal_Solution.md","sourceDirName":"troubleshooting","slug":"/troubleshooting/Unity_IDE_Package_Removal_Solution","permalink":"/Unity-Cloud-Build-Pipeline/troubleshooting/Unity_IDE_Package_Removal_Solution","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Unity Android Build Issue: \\"No sdkmanager found\\" - Solution Guide","permalink":"/Unity-Cloud-Build-Pipeline/troubleshooting/Unity_Android_Build_Issue_Solution"},"next":{"title":"Scripts Reference","permalink":"/Unity-Cloud-Build-Pipeline/reference/scripts"}}');var r=n(4848),o=n(8453);const t={},l="Unity CI Build Issue: IDE Package Certificate CRL Error - Solution Guide",c={},a=[{value:"Problem Description",id:"problem-description",level:2},{value:"Root Cause Analysis",id:"root-cause-analysis",level:2},{value:"The Issue Chain",id:"the-issue-chain",level:3},{value:"Solution Implemented",id:"solution-implemented",level:2},{value:"Removing IDE Packages from manifest.json",id:"removing-ide-packages-from-manifestjson",level:3},{value:"Why This Works",id:"why-this-works",level:3}];function d(e){const i={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"unity-ci-build-issue-ide-package-certificate-crl-error---solution-guide",children:"Unity CI Build Issue: IDE Package Certificate CRL Error - Solution Guide"})}),"\n",(0,r.jsx)(i.h2,{id:"problem-description",children:"Problem Description"}),"\n",(0,r.jsx)(i.p,{children:"During Unity builds in CI/CD environments, the following error occurs:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"An error occurred while resolving packages:\n  One or more packages could not be added to the local file system:\n    com.unity.ide.rider: No cache entry for certificate-crl|crl3.digicert.com/DigiCertTrustedRootG4.crl found in /root/.cache/Unity/upm/db\n"})}),"\n",(0,r.jsx)(i.p,{children:"This error prevents successful package resolution and causes builds to fail, particularly in Docker containers used by CI systems like GitHub Actions."}),"\n",(0,r.jsx)(i.h2,{id:"root-cause-analysis",children:"Root Cause Analysis"}),"\n",(0,r.jsx)(i.h3,{id:"the-issue-chain",children:"The Issue Chain"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"IDE Packages in Manifest"}),": Unity projects often include IDE-specific packages like:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"com.unity.ide.rider"})," (JetBrains Rider)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"com.unity.ide.visualstudio"})," (Visual Studio)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"com.unity.ide.vscode"})," (Visual Studio Code)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Certificate Validation"}),": These packages attempt to download and validate security certificates during package resolution"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"CI Environment Limitations"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Docker containers have restricted network access"}),"\n",(0,r.jsx)(i.li,{children:"Certificate revocation lists (CRLs) may be blocked or inaccessible"}),"\n",(0,r.jsx)(i.li,{children:"No GUI environment for IDE interactions"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Build Failure"}),": The package manager cannot resolve dependencies due to failed certificate validation"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"solution-implemented",children:"Solution Implemented"}),"\n",(0,r.jsx)(i.h3,{id:"removing-ide-packages-from-manifestjson",children:"Removing IDE Packages from manifest.json"}),"\n",(0,r.jsx)(i.p,{children:"Added the following step to both Android workflows before the Unity build:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"- name: Remove IDE packages from manifest.json\n  run: |\n    sed -i '/com.unity.ide.rider/d' SkrewClient/Packages/manifest.json\n    sed -i '/com.unity.ide.visualstudio/d' SkrewClient/Packages/manifest.json\n    cat SkrewClient/Packages/manifest.json\n"})}),"\n",(0,r.jsx)(i.h3,{id:"why-this-works",children:"Why This Works"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\u2705 ",(0,r.jsx)(i.strong,{children:"Removes Unnecessary Packages"}),": IDE packages are not needed for headless CI builds"]}),"\n",(0,r.jsxs)(i.li,{children:["\u2705 ",(0,r.jsx)(i.strong,{children:"Avoids Certificate Issues"}),": Prevents CRL download attempts in restricted environments"]}),"\n",(0,r.jsxs)(i.li,{children:["\u2705 ",(0,r.jsx)(i.strong,{children:"Faster Builds"}),": Reduces package resolution time and potential failure points"]}),"\n",(0,r.jsxs)(i.li,{children:["\u2705 ",(0,r.jsx)(i.strong,{children:"Clean Dependencies"}),": Only includes packages required for building"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.em,{children:"This document explains the IDE package removal solution for Unity CI builds experiencing certificate CRL errors."})})]})}function u(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,i,n){n.d(i,{R:()=>t,x:()=>l});var s=n(6540);const r={},o=s.createContext(r);function t(e){const i=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(o.Provider,{value:i},e.children)}}}]);