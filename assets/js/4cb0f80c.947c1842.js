"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[935],{6364(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"troubleshooting/Unity_IDE_Package_Removal_Solution","title":"Unity CI Build Issue: IDE Package Certificate CRL Error - Solution Guide","description":"Problem Description","source":"@site/docs/troubleshooting/Unity_IDE_Package_Removal_Solution.md","sourceDirName":"troubleshooting","slug":"/troubleshooting/Unity_IDE_Package_Removal_Solution","permalink":"/CloudDocumentationPersonal/troubleshooting/Unity_IDE_Package_Removal_Solution","draft":false,"unlisted":false,"editUrl":"https://github.com/RayanYousef/CloudDocumentationPersonal/edit/main/website/docs/troubleshooting/Unity_IDE_Package_Removal_Solution.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Unity Android Build Issue: \\"No sdkmanager found\\" - Solution Guide","permalink":"/CloudDocumentationPersonal/troubleshooting/Unity_Android_Build_Issue_Solution"},"next":{"title":"Scripts Reference","permalink":"/CloudDocumentationPersonal/reference/scripts"}}');var o=i(4848),t=i(8453);const r={},l="Unity CI Build Issue: IDE Package Certificate CRL Error - Solution Guide",c={},a=[{value:"Problem Description",id:"problem-description",level:2},{value:"Root Cause Analysis",id:"root-cause-analysis",level:2},{value:"The Issue Chain",id:"the-issue-chain",level:3},{value:"Solution Implemented",id:"solution-implemented",level:2},{value:"Removing IDE Packages from manifest.json",id:"removing-ide-packages-from-manifestjson",level:3},{value:"Why This Works",id:"why-this-works",level:3}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"unity-ci-build-issue-ide-package-certificate-crl-error---solution-guide",children:"Unity CI Build Issue: IDE Package Certificate CRL Error - Solution Guide"})}),"\n",(0,o.jsx)(n.h2,{id:"problem-description",children:"Problem Description"}),"\n",(0,o.jsx)(n.p,{children:"During Unity builds in CI/CD environments, the following error occurs:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"An error occurred while resolving packages:\n  One or more packages could not be added to the local file system:\n    com.unity.ide.rider: No cache entry for certificate-crl|crl3.digicert.com/DigiCertTrustedRootG4.crl found in /root/.cache/Unity/upm/db\n"})}),"\n",(0,o.jsx)(n.p,{children:"This error prevents successful package resolution and causes builds to fail, particularly in Docker containers used by CI systems like GitHub Actions."}),"\n",(0,o.jsx)(n.h2,{id:"root-cause-analysis",children:"Root Cause Analysis"}),"\n",(0,o.jsx)(n.h3,{id:"the-issue-chain",children:"The Issue Chain"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"IDE Packages in Manifest"}),": Unity projects often include IDE-specific packages like:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"com.unity.ide.rider"})," (JetBrains Rider)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"com.unity.ide.visualstudio"})," (Visual Studio)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"com.unity.ide.vscode"})," (Visual Studio Code)"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Certificate Validation"}),": These packages attempt to download and validate security certificates during package resolution"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"CI Environment Limitations"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Docker containers have restricted network access"}),"\n",(0,o.jsx)(n.li,{children:"Certificate revocation lists (CRLs) may be blocked or inaccessible"}),"\n",(0,o.jsx)(n.li,{children:"No GUI environment for IDE interactions"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Build Failure"}),": The package manager cannot resolve dependencies due to failed certificate validation"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"solution-implemented",children:"Solution Implemented"}),"\n",(0,o.jsx)(n.h3,{id:"removing-ide-packages-from-manifestjson",children:"Removing IDE Packages from manifest.json"}),"\n",(0,o.jsx)(n.p,{children:"Added the following step to both Android workflows before the Unity build:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"- name: Remove IDE packages from manifest.json\n  run: |\n    sed -i '/com.unity.ide.rider/d' SkrewClient/Packages/manifest.json\n    sed -i '/com.unity.ide.visualstudio/d' SkrewClient/Packages/manifest.json\n    cat SkrewClient/Packages/manifest.json\n"})}),"\n",(0,o.jsx)(n.h3,{id:"why-this-works",children:"Why This Works"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u2705 ",(0,o.jsx)(n.strong,{children:"Removes Unnecessary Packages"}),": IDE packages are not needed for headless CI builds"]}),"\n",(0,o.jsxs)(n.li,{children:["\u2705 ",(0,o.jsx)(n.strong,{children:"Avoids Certificate Issues"}),": Prevents CRL download attempts in restricted environments"]}),"\n",(0,o.jsxs)(n.li,{children:["\u2705 ",(0,o.jsx)(n.strong,{children:"Faster Builds"}),": Reduces package resolution time and potential failure points"]}),"\n",(0,o.jsxs)(n.li,{children:["\u2705 ",(0,o.jsx)(n.strong,{children:"Clean Dependencies"}),": Only includes packages required for building"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.em,{children:"This document explains the IDE package removal solution for Unity CI builds experiencing certificate CRL errors."})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>r,x:()=>l});var s=i(6540);const o={},t=s.createContext(o);function r(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);