"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[453],{1739(e,i,n){n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"platforms/Android","title":"Android Build Guide","description":"This guide provides comprehensive instructions for setting up a robust cloud build pipeline for your Unity projects using GitHub Actions to build for Android and deploy to the Google Play Store.","source":"@site/docs/platforms/Android.md","sourceDirName":"platforms","slug":"/platforms/Android","permalink":"/Unity-Cloud-Build-Pipeline/platforms/Android","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Prerequisites Setup","permalink":"/Unity-Cloud-Build-Pipeline/prerequisites"},"next":{"title":"iOS Build Guide","permalink":"/Unity-Cloud-Build-Pipeline/platforms/IOS"}}');var r=n(4848),t=n(8453);const o={},l="Android Build Guide",d={},c=[{value:"\ud83d\udccb Table of Contents",id:"-table-of-contents",level:2},{value:"\ud83d\udd27 <strong>Setup &amp; Configuration</strong>",id:"-setup--configuration",level:3},{value:"\ud83d\udee0\ufe0f <strong>Unity &amp; Platform Setup</strong>",id:"\ufe0f-unity--platform-setup",level:3},{value:"\u26a0\ufe0f <strong>Important Notes</strong>",id:"\ufe0f-important-notes",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Required GitHub Secrets",id:"required-github-secrets",level:3},{value:"1. Unity License Activation",id:"1-unity-license-activation",level:3},{value:"2. Google Cloud Console Setup",id:"2-google-cloud-console-setup",level:3},{value:"Create Google Cloud Project",id:"create-google-cloud-project",level:4},{value:"Create Service Account",id:"create-service-account",level:4},{value:"Step 1: Unity Project Configuration",id:"step-1-unity-project-configuration",level:2},{value:"1.1. Package Name",id:"11-package-name",level:3},{value:"1.2. Keystore",id:"12-keystore",level:3},{value:"Step 2: Google Play Console Setup",id:"step-2-google-play-console-setup",level:2},{value:"2.1. Grant Permissions",id:"21-grant-permissions",level:3},{value:"Step 3: Android-Specific Setup",id:"step-3-android-specific-setup",level:2},{value:"Important Notes",id:"important-notes",level:2}];function a(e){const i={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"android-build-guide",children:"Android Build Guide"})}),"\n",(0,r.jsx)(i.p,{children:"This guide provides comprehensive instructions for setting up a robust cloud build pipeline for your Unity projects using GitHub Actions to build for Android and deploy to the Google Play Store."}),"\n",(0,r.jsx)(i.h2,{id:"-table-of-contents",children:"\ud83d\udccb Table of Contents"}),"\n",(0,r.jsxs)(i.h3,{id:"-setup--configuration",children:["\ud83d\udd27 ",(0,r.jsx)(i.strong,{children:"Setup & Configuration"})]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"#prerequisites",children:(0,r.jsx)(i.strong,{children:"Prerequisites"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\ud83d\udd10 ",(0,r.jsx)(i.a,{href:"#required-github-secrets",children:"Required GitHub Secrets"})]}),"\n",(0,r.jsxs)(i.li,{children:["\ud83c\udfae ",(0,r.jsx)(i.a,{href:"#1-unity-license-activation",children:"Unity License Activation"})]}),"\n",(0,r.jsxs)(i.li,{children:["\u2601\ufe0f ",(0,r.jsx)(i.a,{href:"#2-google-cloud-console-setup",children:"Google Cloud Console Setup"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\ud83d\udcc1 ",(0,r.jsx)(i.a,{href:"#create-google-cloud-project",children:"Create Google Cloud Project"})]}),"\n",(0,r.jsxs)(i.li,{children:["\ud83d\udd11 ",(0,r.jsx)(i.a,{href:"#create-service-account",children:"Create Service Account"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.h3,{id:"\ufe0f-unity--platform-setup",children:["\ud83d\udee0\ufe0f ",(0,r.jsx)(i.strong,{children:"Unity & Platform Setup"})]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"#step-1-unity-project-configuration",children:(0,r.jsx)(i.strong,{children:"Step 1: Unity Project Configuration"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\ud83d\udce6 ",(0,r.jsx)(i.a,{href:"#11-package-name",children:"Package Name"})]}),"\n",(0,r.jsxs)(i.li,{children:["\ud83d\udd10 ",(0,r.jsx)(i.a,{href:"#12-keystore",children:"Keystore"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"#step-2-google-play-console-setup",children:(0,r.jsx)(i.strong,{children:"Step 2: Google Play Console Setup"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\ud83d\udc65 ",(0,r.jsx)(i.a,{href:"#21-grant-permissions",children:"Grant Permissions"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#step-3-android-specific-setup",children:(0,r.jsx)(i.strong,{children:"Step 3: Android-Specific Setup"})})}),"\n"]}),"\n",(0,r.jsxs)(i.h3,{id:"\ufe0f-important-notes",children:["\u26a0\ufe0f ",(0,r.jsx)(i.strong,{children:"Important Notes"})]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#important-notes",children:(0,r.jsx)(i.strong,{children:"Important Notes"})})}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(i.h3,{id:"required-github-secrets",children:"Required GitHub Secrets"}),"\n",(0,r.jsxs)(i.p,{children:["Before proceeding, you must configure the following secrets in your GitHub repository. Go to ",(0,r.jsx)(i.strong,{children:"Settings > Secrets and variables > Actions"})," to add them:"]}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Secret Name"}),(0,r.jsx)(i.th,{children:"Description"}),(0,r.jsx)(i.th,{children:"Required For"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"UNITY_LICENSE"})}),(0,r.jsx)(i.td,{children:"Complete .ulf license file content"}),(0,r.jsxs)(i.td,{children:["Unity activation (",(0,r.jsx)(i.a,{href:"https://github.com/game-ci/unity-builder",children:"game-ci/unity-builder"}),")"]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"UNITY_EMAIL"})}),(0,r.jsx)(i.td,{children:"Email address associated with your Unity account"}),(0,r.jsxs)(i.td,{children:["Unity activation (",(0,r.jsx)(i.a,{href:"https://github.com/game-ci/unity-builder",children:"game-ci/unity-builder"}),")"]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"UNITY_PASSWORD"})}),(0,r.jsx)(i.td,{children:"Password for your Unity account"}),(0,r.jsxs)(i.td,{children:["Unity activation (",(0,r.jsx)(i.a,{href:"https://github.com/game-ci/unity-builder",children:"game-ci/unity-builder"}),")"]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"ANDROID_KEYSTORE_PASS"})}),(0,r.jsx)(i.td,{children:"Password for your Android keystore"}),(0,r.jsxs)(i.td,{children:["Android signing (",(0,r.jsx)(i.a,{href:"https://github.com/game-ci/unity-builder",children:"game-ci/unity-builder"}),")"]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"ANDROID_KEYALIAS_PASS"})}),(0,r.jsx)(i.td,{children:"Password for your Android key alias"}),(0,r.jsxs)(i.td,{children:["Android signing (",(0,r.jsx)(i.a,{href:"https://github.com/game-ci/unity-builder",children:"game-ci/unity-builder"}),")"]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"SERVICE_ACCOUNT_JSON"})}),(0,r.jsx)(i.td,{children:"Plain JSON content of Google Cloud service account key"}),(0,r.jsxs)(i.td,{children:["Play Store deployment (",(0,r.jsx)(i.a,{href:"https://github.com/r0adkll/upload-google-play",children:"r0adkll/upload-google-play"}),")"]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"GOOGLE_SERVICE_ACCOUNT_CREDENTIALS"})}),(0,r.jsxs)(i.td,{children:[(0,r.jsx)(i.strong,{children:"Base64 encoded"})," Google service account JSON"]}),(0,r.jsxs)(i.td,{children:["Google Drive upload (",(0,r.jsx)(i.a,{href:"https://github.com/Jumbo810/Upload_Github_Artifacts_TO_GDrive",children:"Jumbo810/Upload_Github_Artifacts_TO_GDrive"}),")"]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"DISCORD_WEBHOOK_SKREW"})}),(0,r.jsx)(i.td,{children:"Discord webhook URL for build notifications"}),(0,r.jsxs)(i.td,{children:["Build notifications (",(0,r.jsx)(i.a,{href:"https://github.com/nobrayner/discord-webhook",children:"nobrayner/discord-webhook"}),")"]})]})]})]}),"\n",(0,r.jsx)(i.h3,{id:"1-unity-license-activation",children:"1. Unity License Activation"}),"\n",(0,r.jsx)(i.p,{children:"Follow these steps to set up your Unity license for CI/CD builds:"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Install Unity Hub"}),": Download and install Unity Hub on your local machine"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Log in to Unity Hub"}),": Use your Unity account credentials"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Activate License"}),": Navigate to ",(0,r.jsx)(i.code,{children:"Unity Hub > Preferences > Licenses"})," and click ",(0,r.jsx)(i.code,{children:"Add"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Get License File"}),": Locate your ",(0,r.jsx)(i.code,{children:".ulf"})," file at:","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Windows"}),": ",(0,r.jsx)(i.code,{children:"C:\\ProgramData\\Unity\\Unity_lic.ulf"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Mac"}),": ",(0,r.jsx)(i.code,{children:"/Library/Application Support/Unity/Unity_lic.ulf"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Linux"}),": ",(0,r.jsx)(i.code,{children:"~/.local/share/unity3d/Unity/Unity_lic.ulf"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsxs)(i.strong,{children:["\ud83d\udcd6 ",(0,r.jsx)(i.a,{href:"https://game.ci/docs/github/activation/#personal-license",children:"Detailed Unity License Setup Guide"})]})}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Note"}),": These credentials are used by ",(0,r.jsx)(i.a,{href:"https://github.com/game-ci/unity-builder",children:"game-ci/unity-builder"})," action for Unity license activation during the build process."]}),"\n",(0,r.jsx)(i.h3,{id:"2-google-cloud-console-setup",children:"2. Google Cloud Console Setup"}),"\n",(0,r.jsx)(i.h4,{id:"create-google-cloud-project",children:"Create Google Cloud Project"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["Navigate to ",(0,r.jsx)(i.a,{href:"https://console.cloud.google.com/welcome?project=fresh-park-445109-b1",children:"Google Cloud Console"})]}),"\n",(0,r.jsx)(i.li,{children:"Create a new project and name it after your application"}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"create-service-account",children:"Create Service Account"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["Go to ",(0,r.jsx)(i.a,{href:"https://console.cloud.google.com/iam-admin/iam",children:"IAM & Admin > Service Accounts"})]}),"\n",(0,r.jsxs)(i.li,{children:["Create a new service account with ",(0,r.jsx)(i.strong,{children:"Owner"})," permissions"]}),"\n",(0,r.jsxs)(i.li,{children:["Navigate to ",(0,r.jsx)(i.strong,{children:"Manage Keys > Create Key > JSON"})]}),"\n",(0,r.jsx)(i.li,{children:"Download the JSON key file"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"step-1-unity-project-configuration",children:"Step 1: Unity Project Configuration"}),"\n",(0,r.jsx)(i.h3,{id:"11-package-name",children:"1.1. Package Name"}),"\n",(0,r.jsxs)(i.p,{children:["\u26a0\ufe0f ",(0,r.jsx)(i.strong,{children:"Important"}),": The package name in the Play Store is determined by the package name of the very first build (AAB) uploaded to Google Play Store. Once set, it ",(0,r.jsx)(i.strong,{children:"cannot be changed"}),", so ensure it is correctly set in Unity Player Settings (e.g., ",(0,r.jsx)(i.code,{children:"com.CompanyName.AppName"}),")."]}),"\n",(0,r.jsxs)(i.p,{children:["In Unity, go to ",(0,r.jsx)(i.strong,{children:"File > Build Settings > Player Settings"})," and set your ",(0,r.jsx)(i.strong,{children:"Package Name"}),"."]}),"\n",(0,r.jsx)(i.h3,{id:"12-keystore",children:"1.2. Keystore"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["In ",(0,r.jsx)(i.strong,{children:"Player Settings > Publishing Settings"}),", open the ",(0,r.jsx)(i.strong,{children:"Keystore Manager"})]}),"\n",(0,r.jsxs)(i.li,{children:["Create a new keystore and save it securely outside your ",(0,r.jsx)(i.code,{children:"Assets"})," folder"]}),"\n",(0,r.jsx)(i.li,{children:"Note the passwords for the keystore and its alias"}),"\n",(0,r.jsxs)(i.li,{children:["Add these passwords to your GitHub secrets as ",(0,r.jsx)(i.code,{children:"ANDROID_KEYSTORE_PASS"})," and ",(0,r.jsx)(i.code,{children:"ANDROID_KEYALIAS_PASS"})]}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Note"}),": These passwords are used by ",(0,r.jsx)(i.a,{href:"https://github.com/game-ci/unity-builder",children:"game-ci/unity-builder"})," for Android APK/AAB signing during the build process."]}),"\n",(0,r.jsx)(i.h2,{id:"step-2-google-play-console-setup",children:"Step 2: Google Play Console Setup"}),"\n",(0,r.jsx)(i.h3,{id:"21-grant-permissions",children:"2.1. Grant Permissions"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["In the ",(0,r.jsx)(i.a,{href:"https://play.google.com/console/u/0/developers/users-and-permissions",children:"Google Play Console"}),", go to ",(0,r.jsx)(i.strong,{children:"Users and permissions"})]}),"\n",(0,r.jsxs)(i.li,{children:["Invite the service account's email (created in the ",(0,r.jsx)(i.a,{href:"#create-service-account",children:"Create Service Account"})," section) and grant it ",(0,r.jsx)(i.strong,{children:"Admin"})," access"]}),"\n",(0,r.jsxs)(i.li,{children:["In your app's dashboard, go to ",(0,r.jsx)(i.strong,{children:"App integrity"})," and link your Google Cloud project"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"step-3-android-specific-setup",children:"Step 3: Android-Specific Setup"}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"\ud83d\udccb Prerequisites"}),": Ensure you've completed the ",(0,r.jsx)(i.a,{href:"../prerequisites",children:"Prerequisites Setup"})," first, including ",(0,r.jsx)(i.code,{children:"VersioningSettings.json"}),", ",(0,r.jsx)(i.code,{children:"WhatsNew"})," directory (located in ",(0,r.jsx)(i.code,{children:"docs/CloudBuild/WhatsNew/"}),"), and ",(0,r.jsx)(i.code,{children:"CustomBuildProcessor.cs"})," script."]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"important-notes",children:"Important Notes"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Package Name Permanence"}),": The package name set in your first Play Store upload cannot be changed"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"License Security"}),": GameCI does not store your Unity credentials or license files - they're only used during build activation"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Service Account Permissions"}),": Ensure your service account has appropriate permissions:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"For Play Store: Admin access in Google Play Console"}),"\n",(0,r.jsx)(i.li,{children:"For Google Drive: Editor access to the target folder"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Build Branch"}),": By default, builds target the ",(0,r.jsx)(i.code,{children:"main"})," branch (configurable in ",(0,r.jsx)(i.code,{children:"VersioningSettings.json"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Workflow Selection"}),": Use the Build Controller to choose your deployment targets:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Set ",(0,r.jsx)(i.code,{children:"run_android_aab_store: true"})," \u2192 Google Play Store (requires Play Store setup)"]}),"\n",(0,r.jsxs)(i.li,{children:["Set ",(0,r.jsx)(i.code,{children:"run_android_apk_gdrive: true"})," \u2192 Google Drive (requires Google Drive folder setup)"]}),"\n",(0,r.jsx)(i.li,{children:"Both can run simultaneously for dual deployment"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"GitHub Actions Used"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"../reference/workflows#main-controller",children:"Build Controller"})," - Orchestrates multiple build workflows"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"https://github.com/game-ci/unity-builder",children:"game-ci/unity-builder"})," - Unity builds and signing"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"https://github.com/r0adkll/upload-google-play",children:"r0adkll/upload-google-play"})," - Play Store deployment"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"https://github.com/Jumbo810/Upload_Github_Artifacts_TO_GDrive",children:"Jumbo810/Upload_Github_Artifacts_TO_GDrive"})," - Google Drive upload"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"https://github.com/nobrayner/discord-webhook",children:"nobrayner/discord-webhook"})," - Build notifications"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,i,n){n.d(i,{R:()=>o,x:()=>l});var s=n(6540);const r={},t=s.createContext(r);function o(e){const i=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:i},e.children)}}}]);